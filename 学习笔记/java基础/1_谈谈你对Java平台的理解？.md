## 谈谈你对Java平台的理解？

#### 一、题目考察

##### 1、考察的目的

- 本身是非常开放的，往往考察的是多个方面：**基础知识理解是否很清楚**；**是否掌握 Java 平台主要模块**和**运行原理**等。
- 尽量表现出**自己的思维深入并系统化**，Java 知识理解得也比较全面。

##### 2、如何应答

- **Java 语言特性**：包括**泛型、Lambda** 等语言特性； [参考文档]()
- **基础类库** ：包括**集合、IO/NIO、网络、并发、安全**等基础类库。[参考文档]()
- **谈谈 JVM 的一些基础概念和机制** ：比如 Java 的类加载机制，常用版本 JDK（如 JDK 8）**内嵌的 Class-Loader**，例如 Bootstrap、 Application 和 Extension Class-loader；**类加载大致过程**：加载、验证、链接、初始化（这里参考了周志明的《深入理解 Java 虚拟机》，非常棒的 JVM 上手书籍）；**自定义 Class-Loader** 等    [参考文档]()
- **垃圾收集的基本原理**：最常见的垃圾收集器，如 SerialGC、Parallel GC、 CMS、 G1 等  [参考文档]()
-  **JDK 包含哪些工具或者 Java 领域内其他工具**等，如编译器、运行时环境、安全工具、诊断和监控工具等。这些基本工具是日常工作效率的保证  [参考文档]()

![1](..\..\images\java基础\1.jpg)

##### 3、优质答案

**Ⅰ、网友1 **

​	“一次编译、到处运行”说的是Java语言跨平台的特性，**Java的跨平台特性与Java虚拟机的存在密不可分**，可在不同的环境中运行。比如说Windows平台和Linux平台都有**相应的JDK**，安装好JDK后也就有了Java语言的运行环境。其实Java语言本身与其他的编程语言没有特别大的差异，并不是说Java语言可以跨平台，而是在不同的平台都有可以让Java语言运行的环境而已，所以才有了Java一次编译，到处运行这样的效果。

​	严格的讲，跨平台的语言不止Java一种，但Java是较为成熟的一种。“一次编译，到处运行”这种效果跟编译器有关。编程语言的处理需要编译器和解释器。Java虚拟机和DOS类似，相当于一个供程序运行的平台。

​	程序从源代码到运行的三个阶段：编码——编译——运行——调试。Java在编译阶段则体现了跨平台的特点。编译过程大概是这样的：**首先是将Java源代码转化成.CLASS文件字节码**，这是第一次编译。**.class文件就是可以到处运行的文件**。然后**Java字节码会被转化为目标机器代码**，这是是由**JVM来执行**的，即Java的第二次编译。

​	“到处运行”的关键和前提就是JVM。因为在第二次编译中JVM起着关键作用。在可以运行Java虚拟机的地方都内含着一个JVM操作系统。从而使JAVA提供了各种不同平台上的虚拟机制，因此实现了“到处运行”的效果。需要强调的一点是，java并不是编译机制，而是解释机制。Java字节码的设计充分考虑了JIT这一即时编译方式，可以将字节码直接转化成高性能的本地机器码，这同样是虚拟机的一个构成部分。

**Ⅱ、网友2**

这种基于**运行分析，进行热点代码编译的设计**，是因为绝大多数的程序都表现为“**小部分的热点耗费了大多数的资源**”吧。只有这样才能做到，在某些场景下，一个需要跑在运行时上的语言，可以**比直接编译成机器码的语言更“快”**

#### 二、相关问题

##### 1、Java特性

- **面向对象**（封装，继承，多态）
- **平台无关性**（**JVM运行.class文件**）
- **语言特性**（泛型，Lambda）
- **类库**（集合，并发，网络，IO/NIO）
- **JRE**（Java运行环境，**JVM，类库**）
- **JDK**（Java开发工具，**包括JRE，javac**，诊断工具）

##### 2、JRE和JDK的区别

- JRE，也就是 Java 运行环境，包含了 JVM 和 Java 类库，以及一些模块等。
- JDK 可以看作是JRE 的一个超集，提供了更多工具，比如编译器、各种诊断工具

##### 3、Java是解析运行吗？  

不正确！

- Java源代码经过Javac编译成.class文件
- .class文件经JVM解析或编译运行。
  - 解析: .class文件经过**JVM内嵌的解析器**解析执行。
  - 编译:存在**JIT编译器（Just In Time Compile 即时编译器）**把**经常运行的代码作为"热点代码"**编译与本地平台相关的机器码，并进行各种层次的优化。
  - 在运行时，**JIT会把编译过来的机器码保存起来，运行时再遇到这类代码直接可以执行**，而不是先解释后执行。
  - **AOT编译器**: Java 9提供的直接将所有代码编译成机器码执行。



